-- Menu Brainrot Remover pour Executor Roblox
-- Par [Votre nom] - Design moderne avec toggle

local player = game:GetService("Players").LocalPlayer
local guiService = game:GetService("GuiService")
local userInputService = game:GetService("UserInputService")

-- Variable d'√©tat du toggle
local autoReplaceEnabled = false

-- Table des remplacements (mot original -> mot remplac√©)
local replacements = {
    ["brainrot"] = "üß†üíÄ",
    ["skibidi"] = "üöΩ",
    ["sigma"] = "üòé",
    ["gyat"] = "üçë",
    ["ohio"] = "üåΩ",
    ["fanum"] = "üí∞",
    -- Ajoutez d'autres paires ici
}

-- Fonction pour remplacer les mots dans un message
local function replaceBrainrot(message)
    for original, replacement in pairs(replacements) do
        -- Remplacement insensible √† la casse (ex: "Brainrot" -> "üß†üíÄ")
        message = message:gsub("%f[%a]"..original.."%f[%A]", replacement)
        message = message:gsub("%f[%a]"..original:upper().."%f[%A]", replacement:upper())
        message = message:gsub("%f[%a]"..original:sub(1,1):upper()..original:sub(2):lower().."%f[%A]", replacement)
    end
    return message
end

-- D√©tection du syst√®me de chat (TextChatService moderne ou Chat traditionnel)
local chatService
local usingModernChat = false
pcall(function()
    chatService = game:GetService("TextChatService")
    usingModernChat = chatService and chatService.ChatVersion == Enum.ChatVersion.TextChatService
end)

-- Connexion au chat
local chatConnection
local function enableChatHook()
    if chatConnection then chatConnection:Disconnect() end
    if usingModernChat then
        -- TextChatService (moderne)
        chatConnection = chatService.MessageReceived:Connect(function(messageObject)
            if not autoReplaceEnabled then return end
            if messageObject.TextSource and messageObject.TextSource.UserId == player.UserId then
                -- On ne peut pas modifier le message apr√®s envoi, donc on affiche juste un message de d√©monstration
                -- En r√©alit√©, avec un executor, on pourrait simuler l'envoi du message modifi√©
                warn("[Brainrot] Message original : " .. messageObject.Text)
                -- Exemple : on pourrait renvoyer le message modifi√© dans le chat (attention aux spams)
                -- Mais ici on va juste le logger pour l'exemple
            end
        end)
    else
        -- Ancien syst√®me de chat
        chatConnection = player.Chatted:Connect(function(message, recipient)
            if not autoReplaceEnabled then return end
            -- Modifier le message et le renvoyer (simulation)
            local modified = replaceBrainrot(message)
            if modified ~= message then
                -- Pour √©viter une boucle infinie, on d√©sactive temporairement le hook
                chatConnection:Disconnect()
                -- Envoyer le message modifi√©
                game:GetService("ReplicatedStorage"):WaitForChild("DefaultChatSystemChatEvents"):WaitForChild("SayMessageRequest"):FireServer(modified, "All")
                -- R√©activer le hook
                enableChatHook()
            end
        end)
    end
end

local function disableChatHook()
    if chatConnection then
        chatConnection:Disconnect()
        chatConnection = nil
    end
end

-- Cr√©ation de l'interface graphique
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "BrainrotMenu"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Fond du menu (principal)
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 280, 0, 160)
mainFrame.Position = UDim2.new(0.5, -140, 0.5, -80)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
mainFrame.BackgroundTransparency = 0.1 -- l√©ger transparent
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

-- Coins arrondis (pour Roblox, on utilise UICorner)
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0, 15)
uiCorner.Parent = mainFrame

-- Ombre port√©e (via un cadre en arri√®re-plan)
local shadow = Instance.new("Frame")
shadow.Name = "Shadow"
shadow.Size = UDim2.new(1, 10, 1, 10)
shadow.Position = UDim2.new(0, -5, 0, -5)
shadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
shadow.BackgroundTransparency = 0.5
shadow.BorderSizePixel = 0
shadow.Parent = mainFrame
local shadowCorner = Instance.new("UICorner")
shadowCorner.CornerRadius = UDim.new(0, 20)
shadowCorner.Parent = shadow
shadow.ZIndex = mainFrame.ZIndex - 1

-- Titre du menu
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "Title"
titleLabel.Size = UDim2.new(1, 0, 0, 40)
titleLabel.Position = UDim2.new(0, 0, 0, 10)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "BRAINROT REPLACER"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextSize = 20
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextStrokeTransparency = 0.8
titleLabel.Parent = mainFrame

-- Bouton toggle
local toggleButton = Instance.new("TextButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0.8, 0, 0, 50)
toggleButton.Position = UDim2.new(0.1, 0, 0.5, -15)
toggleButton.BackgroundColor3 = Color3.fromRGB(244, 67, 54) -- rouge par d√©faut
toggleButton.Text = "AUTO REPLACE BRAINROT (OFF)"
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.TextSize = 16
toggleButton.Font = Enum.Font.GothamBold
toggleButton.AutoButtonColor = false
toggleButton.BorderSizePixel = 0
toggleButton.Parent = mainFrame

-- Arrondi du bouton
local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 10)
buttonCorner.Parent = toggleButton

-- Effet de survol
toggleButton.MouseEnter:Connect(function()
    toggleButton.BackgroundTransparency = 0.2
end)
toggleButton.MouseLeave:Connect(function()
    toggleButton.BackgroundTransparency = 0
end)

-- Fonction de mise √† jour de l'√©tat du bouton
local function updateButtonState()
    if autoReplaceEnabled then
        toggleButton.BackgroundColor3 = Color3.fromRGB(76, 175, 80) -- vert
        toggleButton.Text = "AUTO REPLACE BRAINROT (ON)"
    else
        toggleButton.BackgroundColor3 = Color3.fromRGB(244, 67, 54) -- rouge
        toggleButton.Text = "AUTO REPLACE BRAINROT (OFF)"
    end
end

-- Clic sur le bouton
toggleButton.MouseButton1Click:Connect(function()
    autoReplaceEnabled = not autoReplaceEnabled
    updateButtonState()
    if autoReplaceEnabled then
        enableChatHook()
    else
        disableChatHook()
    end
end)

-- Initialisation de l'√©tat
updateButtonState()

-- Fonction pour d√©placer le menu (drag)
local dragging = false
local dragInput
local dragStart
local startPos

local function updateDrag(input)
    local delta = input.Position - dragStart
    mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

mainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

userInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        updateDrag(input)
    end
end)

-- Petit texte informatif en bas
local infoLabel = Instance.new("TextLabel")
infoLabel.Name = "Info"
infoLabel.Size = UDim2.new(1, 0, 0, 20)
infoLabel.Position = UDim2.new(0, 0, 1, -25)
infoLabel.BackgroundTransparency = 1
infoLabel.Text = "Remplace les mots brainrot dans le chat"
infoLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
infoLabel.TextSize = 12
infoLabel.Font = Enum.Font.Gotham
infoLabel.TextStrokeTransparency = 0.9
infoLabel.Parent = mainFrame
